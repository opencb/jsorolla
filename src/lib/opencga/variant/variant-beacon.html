<dom-module id="variant-beacon">
    <template>
        <style is="custom-style" include="jso-styles"></style>

        <div class="panel">
            <h3 style="margin: 10px 5px 15px 25px">Beacon</h3>
            <div style="width: 60%; margin-left: 50px">
                <a on-click="loadExample">Click to load example</a>
                <br><br>
                <div class="form-group row">
                    <label for="datasetInput" class="col-xs-2 col-form-label">Dataset</label>
                    <div class="col-xs-6">
                        <select class="form-control" name="dataset" id="datasetInput">
                            <template is="dom-repeat" items="{{studies}}">
                                <option>{{item.name}}</option>
                            </template>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="refNameInput" class="col-xs-2 col-form-label">Reference Name</label>
                    <div class="col-xs-3">
                        <input class="form-control" type="text" value="" id="refNameInput">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="startInput" class="col-xs-2 col-form-label">Start</label>
                    <div class="col-xs-3">
                        <input class="form-control" type="text" value="" id="startInput">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="alleleInput" class="col-xs-2 col-form-label">Allele</label>
                    <div class="col-xs-3">
                        <input class="form-control" type="text" value="" id="alleleInput">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-xs-2 col-form-label">Format Type</label>
                    <div class="col-xs-3">
                        <input class="form-check-input" type="checkbox" name="formatType" id="textType" value="text" checked> Text
                        <input class="form-check-input" type="checkbox" name="formatType" id="jsonType" value="json"> JSON
                    </div>
                </div>
                <div class="form-group row col-xs-2">
                    <button type="reset" class="btn btn-default" on-click="clearFields">Reset</button>
                    <button type="submit" class="btn btn-default" on-click="execute">Submit</button>
                </div>
            </div>
        </div>
    </template>

    <script>
        Polymer({
            is: 'variant-beacon',
            properties: {
                opencgaClient: {
                    type: Object
                },
                studies: {
                    type: Array,
                    value: []
                }
            },
            clearFields: function(e) {
                this.$.datasetInput.value = "";
                this.$.refNameInput.value = "";
                this.$.startInput.value = "";
                this.$.alleleInput.value = "";
                this.$.textType.checked = false;
                this.$.jsonType.checked = false;
            },
            loadExample: function() {
                this.$.datasetInput.value = this.studies[0].name;
                this.$.refNameInput.value = "11";
                this.$.startInput.value = "110993";
                this.$.alleleInput.value = "INDEL";
                this.$.jsonType.checked = true;
            },
            execute: function(e) {
                console.log(this.opencgaClient)
            }
        });
    </script>
</dom-module>